# test RETROactif de VALidit√©

(backtesting, but in french)

## What for ?

This is a simple backtesting tool for trading strategies.

It is designed to be as simple as possible, and to be used with a minimum of code. It is not designed to be the most efficient, or the most complete, but to be the most simple and the most understandable.

## How to use it ?

### 1. Config

Everything is configured via a json file. You can take a look at the `config.json` file to see how it works.

You can setup the following parameters:

- `data_path`: the path to the data file. Can be relative or absolute.
- `headers`: The headers present in the data file. Allows the code to understand the data.
- `base_funds`: Pretty self-explanatory.
- `transaction_fee`: The fee you pay for each transaction, in percentage. Binance charges 0.075% for example.
- `slippage`: The slippage you want to simulate, in percentage. The slippage is the difference between the expected price of a trade and the price at which the trade is actually executed. It is usually negative, because it is usually a loss for the trader.
- `pair`: The pair you want to trade. For example, `BTCUSDT`. This is mostly used for logging and displaying purposes.
- `base_currency`: The currency you want to trade. For example, `BTC`. Once again, mostly used for logging and displaying purposes.
- `quote_currency`: The currency you want to trade against. For example, `USDT`.
- `log_level`: The level of logging you want. Can be `NONE`, `INFO` or `ALL`. `NONE` will log nothing, `INFO` will log only the most important information (end performance), and `ALL` will log everything. It is not possible to disable error logging for fatal errors (inexistant files, incorrect config elements, etc...).
- `log_file`: The path to the file where you want to save the logs. Can be relative or absolute.
- `log_graph`: `true` or `false`. If you want to generate a graph image depicting the trading session.
- `log_graph_file`: The path to the file where you want to save the graph. Can be relative or absolute.

### 2. Strategy

You need to create a strategy file, or use the one that is included. Your strategy has to implement `Strategy` trait and the `on_tick` method. This method will be called at each new candle, and will be passed the most recent candlestick.

You are free to implement your strategy as you wish. You can save the candles or not, you can use indicators or not, you can use machine learning or not. The only thing you need to do is to return a `Signal` object at each tick. This object is an enum and has to be either `Buy`, `Sell` or `Hold`.

The default strategy is a simple moving average crossover strategy. It buys when the short moving average crosses above the long moving average, and sells when the short moving average crosses below the long moving average. It generally performs poorly, but it is a good starting point to understand how the tool works.

### 3. Data

You need to provide a data file. This file has to be a csv file, with (at least) the following headers:

- `timestamp`: The timestamp of the candle.
- `open`: The opening price of the candle.
- `high`: The highest price of the candle.
- `low`: The lowest price of the candle.
- `close`: The closing price of the candle.
- `volume`: The volume of the candle.

Your file can contain more columns, but these are the only ones required for the tool to work.

### 4. Run

Once everything is configured, you can just run the program with cargo (`cargo run`). The tool will read the data, apply your strategy, and log the performance of your strategy.

If your strategy is compute-heavy, you can use the `--release` flag to compile the code in release mode. This will (usually) make the code run faster.

### 5. Analyze

Once your strategy has run, you can analyze the performance of your strategy. You can look at the log file, and at the graph if you enabled it. You can also modify your strategy, and run it again to see if it performs better. You can also modify the data, to see if your strategy is robust.

The idea behind designing this tool around json config files is to make it easy to compile the code and test one strategy on multiple datasets, with different parameters, without having to recompile the code each time.

## Disclaimer

**This backtesting tool is provided for informational, educational, and research purposes only and is offered "as is" without any express or implied warranty. No guarantee is provided regarding the accuracy, reliability, or completeness of the results generated by this tool.**

Important Notes:

* No Financial Advice: The tool does not constitute financial, investment, or trading advice. Past performance is not indicative of future results.
* User Responsibility: Any financial or investment decisions made based on the outputs of this tool are solely at your own risk. It is your responsibility to verify the data and consult with a qualified professional before making any decisions.
* Liability: The developers, maintainers, and contributors of this tool shall not be held liable for any losses, damages, or other adverse outcomes arising from its use.

By using this tool, you acknowledge that you have read, understood, and agreed to the terms of this disclaimer.
